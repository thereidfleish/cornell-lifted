<!DOCTYPE html>
<html lang="en">
{% import 'components.html' as components with context %}

<head>
    {{ components.header("View Lifted Message") }}
</head>

<body>
    <!-- Sticky Navigation Bar -->
    {{ components.sticky_navbar() }}

    <!-- Main Header -->
    <section class="section-container" id="card-header">
        <div class="container">
            <div class="text-center mb-5">
                <img class="mx-auto d-block" src="/static/images/logo.png" width="300" alt="Cornell Lifted Logo" />
                <h1 class="lifted-title">LIFTED</h1>
            </div>

            <h2 class="section-title">Your {% if current_user.email == card["recipient_email"] %}Received{% else
                %}Sent{% endif %} Message</h2>
            <p class="section-subtitle">Spreading positivity and gratitude across campus</p>
        </div>
    </section>

    <section class="section-container bg-light" id="card-content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    {% if message_confirmation %}
                    <div class="alert alert-success" role="alert">
                        <h4 class="alert-heading">Message Sent Successfully!</h4>
                        <p>Your Lifted message was submitted successfully!</p>
                        <p>Your recipient was just notified that they've been Lifted, but who Lifted them is a secret -
                            they won't know it's you until the last day of classes!</p>
                        <p>Feel free to Lift some more inspirational people in your life!
                            {% if "e" in lifted_config.form_message_group %}
                            There's no cap on the number of messages you can submit!
                            {% else %}
                            While there's no cap on the number of messages you can submit, if you are planning to Lift a
                            large number of people, we kindly ask that you submit those messages during the electronic
                            version of Lifted, which will open immediately after the date this form closes, as there is
                            a limited number of physical cards we can print. The electronic cards will still be
                            delivered to your recipients on the last day of classes, and they can print them out like a
                            normal card!
                            {% endif %}
                        </p>
                        <p>Finally, to stay up-to-date with any last-minute reminders or changes, and to help Lift us,
                            follow <a href="https://www.instagram.com/cornelllifted">@cornelllifted</a> on Instagram!
                        </p>

                        <div class="text-center mt-4">
                            <a href="/send-message" type="button" class="btn btn-primary">Send Another {% if "e" in
                                lifted_config.form_message_group %}e{% endif %}Lifted Message</a>
                        </div>
                    </div>
                    {% endif %}

                    <div class="form-container">
                        <div class="d-flex justify-content-between mb-4">
                            <div>
                                {% if message_confirmation != "true" %}
                                <button type="button" class="btn btn-primary" onclick="window.close()">Go Back</button>
                                {% endif %}
                            </div>

                            {% if current_user.email == card["sender_email"] and card["message_group"] ==
                            lifted_config["form_message_group"] %}
                            <div>
                                <a href="/edit-message/{{ card['id'] }}" class="btn btn-outline-primary me-2">‚úçÔ∏è
                                    Edit</a>
                                <a href="/delete-message/{{ card['id'] }}" class="btn btn-outline-danger">üóëÔ∏è Delete</a>
                            </div>
                            {% endif %}
                        </div>

                        <div class="lifted-card p-4 my-4">
                            <h4 class="text-center blue-text">{{ card["recipient_email"].split("@")[0] }}</h4>
                            <hr>
                            <p><b>To:</b> {{ card["recipient_name"] }}</p>
                            <p style="white-space: pre-line" class="message-content">{{ card["message_content"] }}</p>
                            <p><b>From:</b> {{ card["sender_name"] }}</p>
                        </div>

                        {% if current_user.email == card["sender_email"] %}
                        <p class="text-muted text-center">Message written {{ card["created_timestamp"] }}</p>
                        {% endif %}

                        <hr class="my-4">

                        {% if card["message_group"] not in lifted_config.hidden_cards %}
                        <div class="mt-4">
                            <h5>Want to print your card?</h5>
                            <p>If you'd like to print your card, we suggest either printing with 100% size on normal
                                paper and
                                cutting it out, or inserting a properly sized card into your printer!</p>
                            <a href="/get-card-pdf/{{ card['id'] }}" class="btn btn-primary mb-3"
                                target="_blank">Download PDF</a>

                            <div class="card mt-3">
                                <div class="card-body">
                                    <p class="mb-0 fw-bold">Card Sizes:</p>
                                    <ul class="mb-0">
                                        <li><b>Fall 2024:</b> 4 x 6 in</li>
                                        <li><b>Spring 2024:</b> 5 x 7 in</li>
                                        <li><b>Spring 2022, 2023:</b> 4.25 x 5.5 in</li>
                                        <li><b>Spring 2018, 2019, 2020, 2021:</b> Widescreen 16:9</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        {% endif %}

                        <div class="alert alert-danger mt-4" role="alert">
                            <h5 class="alert-heading">Something missing or seem wrong?</h5>
                            <p class="mb-0">Send us an email at <a
                                    href="mailto:lifted@cornell.edu">lifted@cornell.edu</a> and we'll take a look!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    {{ components.footer() }}

    <script src="/static/scripts/scripts.js"></script>
    <script src="/static/scripts/bootstrap.bundle.min.js"></script>
</body>

</html>